<%= render 'shared/form_errors' %>

<%= simple_form_for @ryr  do |f| %>
  <%= f.input :ride_option, collection: RiderYearRegistration::RIDE_OPTIONS, include_blank: false %>
  <%= f.input :discount_code %> 
  <%= f.input :goal, label: 'Fundraising Goal', hint: "Must be above #{RideYear.current.min_fundraising_goal}" %>
  <%= f.button :submit %>
<% end %>

<script>
	$(function(){
		var $select = $('#rider_year_registration_ride_option');

		if ( $select.val() !== 'Custom') {
			var $discount_code = $('.rider_year_registration_discount_code')
				.hide()
				.data('hidden', true);
		}

		$('#rider_year_registration_ride_option').change(function(e){
			if ( this.value === 'Custom' ){
				$discount_code.data('hidden', false).show(200);
			} else {
				if ( !$discount_code.data('hidden') ) {
					$discount_code.data('hidden', true).hide(200);
				}
			}
		});
	});
	
</script>

