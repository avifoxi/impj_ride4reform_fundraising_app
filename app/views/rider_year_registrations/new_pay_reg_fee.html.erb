<h3>Every participant in the ride must pay a registration fee of $<%= @registration_fee %>. <br><small>Please complete this billing information to finish your registration!</small> </h3>

<%= render 'shared/form_errors' %>

<%= simple_form_for @ryr, :url => rider_year_registrations_pay_reg_fee_path(@ryr, ryr_id: @ryr), :method => :post, :remote => true do |f| %>

	<%= render 'shared/payment_form', :f => f %>

	<%= f.button :submit %>
<% end %>


<script>
	
	$("#edit_rider_year_registration_" + <%= @ryr.id %>).bind('ajax:complete', function(event, xhr, settings) {

		console.log(xhr.responseText );
		var html = '<div class="alert alert-danger ajax-errors" role="alert">' +
			'<span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>' +
			xhr.responseText['errors'] + '</div>';

		$('h3').append(html);
		// $('.error-messages').remove();
		// < % if @ rule.errors.any? %>
		//   $('body').append('<ul class="error-messages"></ul>');
		//   < % @rule.errors.full_messages.each do |msg|  % >
		//     $('.error-messages').append('< %= escape_javascript msg % >');
		//   < % end %>
		// < % end %>
		// <div class="alert alert-danger" role="alert">
  //   <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
  //   Line 1 can't be blank, Line 1 can't be blank, and User is invalid  
  //   <!-- < %= @errors.messages %> -->
  // </div>

   });
</script>